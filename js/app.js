!function(n){var t={};function e(l){if(t[l])return t[l].exports;var c=t[l]={i:l,l:!1,exports:{}};return n[l].call(c.exports,c,c.exports,e),c.l=!0,c.exports}e.m=n,e.c=t,e.d=function(n,t,l){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:l})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var l=Object.create(null);if(e.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var c in n)e.d(l,c,function(t){return n[t]}.bind(null,c));return l},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/helpFunctions/createDomElement.js\n/* eslint-disable no-undef */\nfunction createElement(tagName, params) {\n  const element = document.createElement(tagName);\n  if (params !== undefined) {\n    const array = Object.keys(params, []);\n    array.forEach((currentValue) => {\n      element.setAttribute(currentValue, params[currentValue]);\n    });\n  }\n  return element;\n}\n\n// CONCATENATED MODULE: ./src/helpFunctions/getDomElement.js\n/* eslint-disable no-undef */\n/* harmony default export */ var getDomElement = (function (selector) {\n  const element = document.querySelector(selector);\n  return element;\n});\n\n// CONCATENATED MODULE: ./src/createPagingElement.js\n\n\n\n/* harmony default export */ var createPagingElement = (function () {\n  const main = getDomElement('.main');\n  const amountOfPages = createElement('div', { class: 'total-amount' });\n  main.appendChild(amountOfPages);\n});\n\n// CONCATENATED MODULE: ./src/page.js\n/* eslint-disable import/no-cycle */\n/* eslint-disable no-undef */\n\n\n\n\n// Creates page with components and adds it to DOM\nfunction createPages(elementComponent, resolution) {\n  const pages = document.getElementsByClassName('page');\n  const amountOfelements = pages.length;\n  const lastPage = pages[amountOfelements - 1];\n  // Examine if are pages yet? If no, create a new page\n  // add video element to DOM\n  if (lastPage && lastPage.children.length < resolution) {\n    lastPage.appendChild(elementComponent);\n  } else if (!lastPage || lastPage.children.length === resolution) {\n    const pageElement = createElement('div', { class: `page page-${amountOfelements + 1}` });\n    pageElement.appendChild(elementComponent);\n    const main = getDomElement('.main');\n    main.insertBefore(pageElement, main.lastElementChild);\n  }\n}\n// Checks width of page and return amount of elements per page\nfunction checkWidth() {\n  const widthValue = window.innerWidth;\n\n  if (widthValue >= 1300) return 4;\n\n  if (widthValue >= 990) return 3;\n\n  if (widthValue >= 768) return 2;\n\n  if (widthValue >= 480) return 1;\n\n  return 1;\n}\n// This function called when page is resized\nfunction changeElementsOnPage() {\n  const widthValue = checkWidth();\n  // Check how many components in first page\n  const firstPage = document.getElementsByClassName('page')[0];\n  if (firstPage.children.length !== widthValue) {\n    const components = document.querySelectorAll('.component');\n    const main = getDomElement('.main');\n    main.innerHTML = '';\n    createPagingElement();\n    components.forEach((component) => {\n      createPages(component, widthValue);\n    });\n  }\n}\n\n\n\n// CONCATENATED MODULE: ./src/create_search_field.js\n\n\nfunction createSearchElement() {\n  const header = createElement('header');\n  const container = createElement('div', { class: 'container' });\n  const form = createElement('form', { action: '', method: 'get' });\n  const inputText = createElement('input', {\n    id: 'textField', name: 's', type: 'text', placeholder: 'Type your request',\n  });\n  const inputSubmit = createElement('button', { type: 'submit', id: 'button' });\n\n  form.appendChild(inputText);\n  form.appendChild(inputSubmit);\n  container.appendChild(form);\n  header.appendChild(container);\n  return header;\n}\n\n// CONCATENATED MODULE: ./src/getInputText.js\n/* eslint-disable no-undef */\n\n\nfunction getInputText() {\n  const textField = document.querySelector('#textField');\n  const mainElement = getDomElement('.main');\n  if (textField === '' && mainElement) {\n    return mainElement.getAttribute('data-request');\n  }\n  return textField.value;\n}\n\n// CONCATENATED MODULE: ./src/getRequestString.js\nfunction getRequestString(paramReq) {\n  let reqString = '';\n  const propOfObj = Object.keys(paramReq, []);\n  propOfObj.forEach((value) => {\n    if (reqString === '') {\n      reqString = `${value}=${paramReq[value]}`;\n    } else {\n      reqString += `&${value}=${paramReq[value]}`;\n    }\n  });\n  return reqString;\n}\n\n// CONCATENATED MODULE: ./src/getComponentData.js\n/* eslint-disable no-console */\n/* eslint-disable no-undef */\n\n\n\nasync function getData() {\n  let url = 'https://www.googleapis.com/youtube/v3/search?';\n  const apiKey = 'key=AIzaSyBKaGt0vZHe5jkw40gPagqqzsdiQWtQ7W4';\n  const textInput = getInputText();\n  const objParamSearching = {\n    maxResults: 15,\n    part: 'snippet',\n    q: textInput,\n    fields: 'items(id)',\n  };\n  let wordQuery = getRequestString(objParamSearching);\n  let endpoint = `${url}${wordQuery}&${apiKey}`;\n\n  // Get json file with list of videos\n  const requestURL = await fetch(endpoint)\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error('Invalid response!');\n    })\n  // Take information about video by id\n    .then((jsonResponse) => {\n      url = 'https://www.googleapis.com/youtube/v3/videos?';\n      const objParamVideo = {\n        part: 'snippet,statistics',\n        fields: 'items(id,snippet,statistics)',\n      };\n        // Get array of url\n      const arrayOfRequests = jsonResponse.items.map((value) => {\n        objParamVideo.id = value.id.videoId;\n        wordQuery = getRequestString(objParamVideo);\n        endpoint = `${url}${wordQuery}&${apiKey}`;\n        return endpoint;\n      });\n      return arrayOfRequests;\n    })\n    .catch(error => console.log(error));\n\n  const data = await Promise.all(requestURL.map(item => fetch(item)\n    .then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error('Invalid response!');\n    })));\n  return data;\n}\n\n// CONCATENATED MODULE: ./src/templateOfComponent.js\n/* eslint-disable no-undef */\n\n\n/* harmony default export */ var templateOfComponent = (function (objectVideo) {\n  const url = 'https://www.youtube.com/watch?';\n  // Create containers for data\n  const elementsIs = document.getElementsByClassName('component');\n  let elContainer = null;\n  if (elementsIs.length !== 0) {\n    const lastElementIndex = elementsIs.length;\n    elContainer = createElement('div', { class: `component component-${lastElementIndex + 1}` });\n  } else {\n    elContainer = createElement('div', { class: 'component component-1' });\n  }\n  const elDivScreenshotTitle = createElement('div', { class: 'screenshot-title' });\n  const elDivInformation = createElement('div', { class: 'information' });\n  // Image\n  const elImg = createElement('img',\n    {\n      src: objectVideo.snippet.thumbnails.medium.url,\n      height: objectVideo.snippet.thumbnails.medium.height,\n      width: objectVideo.snippet.thumbnails.medium.width,\n    });\n  // Add img to <figure> and add all to container\n  elDivScreenshotTitle.appendChild(elImg);\n  // h1\n  const elH1 = createElement('h1');\n  // Create link\n  const elA = createElement('a', { href: `${url}v=${objectVideo.id}`, target: '_blank' });\n  // Add title to h1\n  elH1.textContent = objectVideo.snippet.localized.title;\n  // add h1 to link\n  elA.appendChild(elH1);\n  // Add link to container\n  elDivScreenshotTitle.appendChild(elA);\n  // Transform published date to string\n  const publishedAt = new Date(objectVideo.snippet.publishedAt).toDateString();\n  const videoDescription = objectVideo.snippet.description.split(' ');\n  const shortDespription = `${videoDescription.slice(0, 10).join(' ')}...`;\n  // Define obj\n  const objP = {\n    author: objectVideo.snippet.channelTitle,\n    'publication-date': publishedAt,\n    'view-count': objectVideo.statistics.viewCount,\n    description: shortDespription,\n  };\n  // Create four tag <p> and push their into container\n  const awesomeClassArray = ['fa fas fa-user', 'fa fas fa-calendar-alt', 'fa fas fa-eye'];\n  const arrayKeys = Object.keys(objP);\n  arrayKeys.forEach((elementArray, index) => {\n    const domElDiv = createElement('div', { class: elementArray });\n    const domElI = createElement('i', { class: awesomeClassArray[index] });\n    const domElP = createElement('p');\n    domElP.textContent = objP[elementArray];\n    domElDiv.appendChild(domElI);\n    domElDiv.appendChild(domElP);\n\n    /* domEl.appendChild(awesomeElement);\n    domEl.textContent = objP[elementArray]; */\n    elDivInformation.appendChild(domElDiv);\n  });\n  elContainer.appendChild(elDivScreenshotTitle);\n  elContainer.appendChild(elDivInformation);\n  return elContainer;\n});\n\n// CONCATENATED MODULE: ./src/addComponents.js\n/* eslint-disable import/no-cycle */\n\n\n\n\n// Get data from server and create elements of DOM\n/* harmony default export */ var addComponents = (function () {\n  getData().then((data) => {\n    data.forEach((objectVideo) => {\n      const card = templateOfComponent(objectVideo.items[0]);\n      const amount = checkWidth();\n      createPages(card, amount);\n    });\n  });\n});\n\n// CONCATENATED MODULE: ./src/slider.js\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-undef */\n\n\nclass slider_Slider {\n  constructor(pageIndex) {\n    this.pageIndex = pageIndex;\n  }\n\n  addCounterCurrentTips(arg) {\n    const innerArray = arg;\n    document.querySelector('.total-amount').textContent = `${this.pageIndex} / ${innerArray.length}`;\n  }\n\n  showDivs(n) {\n    const pages = document.querySelectorAll('.page');\n    const amoutnOfPages = pages.length;\n    if (n === amoutnOfPages - 1) {\n      addComponents(amoutnOfPages);\n    }\n    if (n < 1) { this.pageIndex = 1; }\n    pages.forEach((page) => { page.style.display = 'none'; });\n    pages[this.pageIndex - 1].style.display = 'flex';\n    this.addCounterCurrentTips(pages);\n  }\n\n  startSlide() {\n    this.showDivs(this.pageIndex);\n  }\n\n  plusDivs(n) {\n    this.showDivs(this.pageIndex += n);\n  }\n}\n\n// CONCATENATED MODULE: ./src/mobileSwipe.js\n\n\n/* harmony default export */ var mobileSwipe = (function (slider) {\n  let touchstartX = 0;\n  let touchendX = 0;\n      \n  function handleMoving() {\n    if (touchendX < touchstartX) {\n    getDomElement('.page').style['animation-name'] = 'right-left';\n    slider.plusDivs(-1);\n    }\n    if (touchendX > touchstartX) {\n      slider.plusDivs(+1);\n    }\n  }\n  // Stick listeners for swipe to page\n  const mainElement = getDomElement('.main');\n  mainElement.addEventListener('touchstart', (event) => {\n    // event.preventDefault();\n    touchstartX = event.changedTouches[0].clientX;\n  });\n  mainElement.addEventListener('touchend', (event) => {\n    touchendX = event.changedTouches[0].clientX;\n    handleMoving();\n  });\n});\n// CONCATENATED MODULE: ./src/helpFunctions/isTouchDevice.js\n/* eslint-disable no-undef */\nfunction isTouchDevice() {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n// CONCATENATED MODULE: ./src/desktopSwipe.js\n\n/* harmony default export */ var desktopSwipe = (function (slider) {\n  let touchstartX = 0;\n  let touchendX = 0;\n  \n  function handleMoving() {\n    if (touchendX < touchstartX) {\n      getDomElement('.page').style['animation-name'] = 'right-left';\n      slider.plusDivs(-1);\n    }\n    if (touchendX > touchstartX) {\n      slider.plusDivs(+1);\n    }\n  }\n  \n  // Stick listeners for swipe to page\n  const mainElement = getDomElement('.main');\n  mainElement.addEventListener('mousedown', (event) => {\n    event.preventDefault();\n    touchstartX = event.clientX;\n  });\n  mainElement.addEventListener('mouseup', (event) => {\n    touchendX = event.clientX;\n    handleMoving();\n  });\n});\n  \n// CONCATENATED MODULE: ./src/addSwipe.js\n\n\n\n\n\n\nconst addSwipe_slider = new slider_Slider(1);\n/* harmony default export */ var addSwipe = (function() {\n  if (isTouchDevice) {\n    mobileSwipe(addSwipe_slider);\n  }\n  desktopSwipe(addSwipe_slider);\n  mobileSwipe(addSwipe_slider);\n});\n// CONCATENATED MODULE: ./src/createComponents.js\n\n\n\n\n\n\n// Get data from server and create elements of DOM\nconst createComponents_slider = new slider_Slider(1);\nfunction createComponents() {\n  getData().then((data) => {\n    data.forEach((objectVideo) => {\n      const card = templateOfComponent(objectVideo.items[0]);\n      const amount = checkWidth();\n      createPages(card, amount);\n    });\n    createComponents_slider.startSlide();\n    addSwipe();\n  });\n}\n\n// CONCATENATED MODULE: ./src/createMainField.js\n/* eslint-disable no-undef */\n\n\nfunction createMainField() {\n  const main = createElement('div', { class: 'main' });\n  const amountOfPages = createElement('div', { class: 'total-amount' });\n  main.appendChild(amountOfPages);\n  document.body.appendChild(main);\n}\n\n// CONCATENATED MODULE: ./src/clickSubmit.js\n\n\n\n\n/* harmony default export */ var clickSubmit = (function (event) {\n  const textField = getDomElement('#textField');\n  if (!getDomElement('.main')) {\n    createMainField();\n    getDomElement('.main').setAttribute('data-request', textField.value);\n  } else {\n    getDomElement('.main').innerHTML = '';\n  }\n  event.preventDefault();\n  createComponents();\n  textField.value = '';\n});\n\n// CONCATENATED MODULE: ./src/index.js\n/* eslint-disable no-undef */\n\n\n\n\n// Create search field\ndocument.body.appendChild(createSearchElement());\ndocument.querySelector('#button')\n  .addEventListener('click', clickSubmit);\nwindow.addEventListener('resize', changeElementsOnPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9oZWxwRnVuY3Rpb25zL2NyZWF0ZURvbUVsZW1lbnQuanM/YWM0YyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscEZ1bmN0aW9ucy9nZXREb21FbGVtZW50LmpzPzJjMWMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyZWF0ZVBhZ2luZ0VsZW1lbnQuanM/OGUzZiIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZS5qcz83ZTE0Iiwid2VicGFjazovLy8uL3NyYy9jcmVhdGVfc2VhcmNoX2ZpZWxkLmpzPzc2OTYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dldElucHV0VGV4dC5qcz8yNWU3Iiwid2VicGFjazovLy8uL3NyYy9nZXRSZXF1ZXN0U3RyaW5nLmpzPzllYjciLCJ3ZWJwYWNrOi8vLy4vc3JjL2dldENvbXBvbmVudERhdGEuanM/YzI5NiIsIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGVPZkNvbXBvbmVudC5qcz85OTViIiwid2VicGFjazovLy8uL3NyYy9hZGRDb21wb25lbnRzLmpzP2VlZjIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NsaWRlci5qcz9hZGI4Iiwid2VicGFjazovLy8uL3NyYy9tb2JpbGVTd2lwZS5qcz8zYmYzIiwid2VicGFjazovLy8uL3NyYy9oZWxwRnVuY3Rpb25zL2lzVG91Y2hEZXZpY2UuanM/NTQzYiIsIndlYnBhY2s6Ly8vLi9zcmMvZGVza3RvcFN3aXBlLmpzP2M5MDgiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FkZFN3aXBlLmpzP2YxODQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyZWF0ZUNvbXBvbmVudHMuanM/MWJkZiIsIndlYnBhY2s6Ly8vLi9zcmMvY3JlYXRlTWFpbkZpZWxkLmpzPzZiNzAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWNrU3VibWl0LmpzPzhiZDciLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgcGFyYW1zKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBhcnJheSA9IE9iamVjdC5rZXlzKHBhcmFtcywgW10pO1xuICAgIGFycmF5LmZvckVhY2goKGN1cnJlbnRWYWx1ZSkgPT4ge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoY3VycmVudFZhbHVlLCBwYXJhbXNbY3VycmVudFZhbHVlXSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG4iLCJpbXBvcnQgZ2V0RG9tRWxlbWVudCBmcm9tICcuL2hlbHBGdW5jdGlvbnMvZ2V0RG9tRWxlbWVudCc7XG5pbXBvcnQgY3JlYXRlRG9tRWxlbWVudCBmcm9tICcuL2hlbHBGdW5jdGlvbnMvY3JlYXRlRG9tRWxlbWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgbWFpbiA9IGdldERvbUVsZW1lbnQoJy5tYWluJyk7XG4gIGNvbnN0IGFtb3VudE9mUGFnZXMgPSBjcmVhdGVEb21FbGVtZW50KCdkaXYnLCB7IGNsYXNzOiAndG90YWwtYW1vdW50JyB9KTtcbiAgbWFpbi5hcHBlbmRDaGlsZChhbW91bnRPZlBhZ2VzKTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9uby1jeWNsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmltcG9ydCBjcmVhdGVEb21FbGVtZW50IGZyb20gJy4vaGVscEZ1bmN0aW9ucy9jcmVhdGVEb21FbGVtZW50JztcbmltcG9ydCBnZXREb21FbGVtZW50IGZyb20gJy4vaGVscEZ1bmN0aW9ucy9nZXREb21FbGVtZW50JztcbmltcG9ydCBjcmVhdGVQYWdpbmdFbGVtZW50IGZyb20gJy4vY3JlYXRlUGFnaW5nRWxlbWVudCc7XG5cbi8vIENyZWF0ZXMgcGFnZSB3aXRoIGNvbXBvbmVudHMgYW5kIGFkZHMgaXQgdG8gRE9NXG5mdW5jdGlvbiBjcmVhdGVQYWdlcyhlbGVtZW50Q29tcG9uZW50LCByZXNvbHV0aW9uKSB7XG4gIGNvbnN0IHBhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGFnZScpO1xuICBjb25zdCBhbW91bnRPZmVsZW1lbnRzID0gcGFnZXMubGVuZ3RoO1xuICBjb25zdCBsYXN0UGFnZSA9IHBhZ2VzW2Ftb3VudE9mZWxlbWVudHMgLSAxXTtcbiAgLy8gRXhhbWluZSBpZiBhcmUgcGFnZXMgeWV0PyBJZiBubywgY3JlYXRlIGEgbmV3IHBhZ2VcbiAgLy8gYWRkIHZpZGVvIGVsZW1lbnQgdG8gRE9NXG4gIGlmIChsYXN0UGFnZSAmJiBsYXN0UGFnZS5jaGlsZHJlbi5sZW5ndGggPCByZXNvbHV0aW9uKSB7XG4gICAgbGFzdFBhZ2UuYXBwZW5kQ2hpbGQoZWxlbWVudENvbXBvbmVudCk7XG4gIH0gZWxzZSBpZiAoIWxhc3RQYWdlIHx8IGxhc3RQYWdlLmNoaWxkcmVuLmxlbmd0aCA9PT0gcmVzb2x1dGlvbikge1xuICAgIGNvbnN0IHBhZ2VFbGVtZW50ID0gY3JlYXRlRG9tRWxlbWVudCgnZGl2JywgeyBjbGFzczogYHBhZ2UgcGFnZS0ke2Ftb3VudE9mZWxlbWVudHMgKyAxfWAgfSk7XG4gICAgcGFnZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudENvbXBvbmVudCk7XG4gICAgY29uc3QgbWFpbiA9IGdldERvbUVsZW1lbnQoJy5tYWluJyk7XG4gICAgbWFpbi5pbnNlcnRCZWZvcmUocGFnZUVsZW1lbnQsIG1haW4ubGFzdEVsZW1lbnRDaGlsZCk7XG4gIH1cbn1cbi8vIENoZWNrcyB3aWR0aCBvZiBwYWdlIGFuZCByZXR1cm4gYW1vdW50IG9mIGVsZW1lbnRzIHBlciBwYWdlXG5mdW5jdGlvbiBjaGVja1dpZHRoKCkge1xuICBjb25zdCB3aWR0aFZhbHVlID0gd2luZG93LmlubmVyV2lkdGg7XG5cbiAgaWYgKHdpZHRoVmFsdWUgPj0gMTMwMCkgcmV0dXJuIDQ7XG5cbiAgaWYgKHdpZHRoVmFsdWUgPj0gOTkwKSByZXR1cm4gMztcblxuICBpZiAod2lkdGhWYWx1ZSA+PSA3NjgpIHJldHVybiAyO1xuXG4gIGlmICh3aWR0aFZhbHVlID49IDQ4MCkgcmV0dXJuIDE7XG5cbiAgcmV0dXJuIDE7XG59XG4vLyBUaGlzIGZ1bmN0aW9uIGNhbGxlZCB3aGVuIHBhZ2UgaXMgcmVzaXplZFxuZnVuY3Rpb24gY2hhbmdlRWxlbWVudHNPblBhZ2UoKSB7XG4gIGNvbnN0IHdpZHRoVmFsdWUgPSBjaGVja1dpZHRoKCk7XG4gIC8vIENoZWNrIGhvdyBtYW55IGNvbXBvbmVudHMgaW4gZmlyc3QgcGFnZVxuICBjb25zdCBmaXJzdFBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwYWdlJylbMF07XG4gIGlmIChmaXJzdFBhZ2UuY2hpbGRyZW4ubGVuZ3RoICE9PSB3aWR0aFZhbHVlKSB7XG4gICAgY29uc3QgY29tcG9uZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb21wb25lbnQnKTtcbiAgICBjb25zdCBtYWluID0gZ2V0RG9tRWxlbWVudCgnLm1haW4nKTtcbiAgICBtYWluLmlubmVySFRNTCA9ICcnO1xuICAgIGNyZWF0ZVBhZ2luZ0VsZW1lbnQoKTtcbiAgICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudCkgPT4ge1xuICAgICAgY3JlYXRlUGFnZXMoY29tcG9uZW50LCB3aWR0aFZhbHVlKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBjcmVhdGVQYWdlcywgY2hlY2tXaWR0aCwgY2hhbmdlRWxlbWVudHNPblBhZ2UgfTtcbiIsImltcG9ydCBjcmVhdGVEb21FbGVtZW50IGZyb20gJy4vaGVscEZ1bmN0aW9ucy9jcmVhdGVEb21FbGVtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU2VhcmNoRWxlbWVudCgpIHtcbiAgY29uc3QgaGVhZGVyID0gY3JlYXRlRG9tRWxlbWVudCgnaGVhZGVyJyk7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6ICdjb250YWluZXInIH0pO1xuICBjb25zdCBmb3JtID0gY3JlYXRlRG9tRWxlbWVudCgnZm9ybScsIHsgYWN0aW9uOiAnJywgbWV0aG9kOiAnZ2V0JyB9KTtcbiAgY29uc3QgaW5wdXRUZXh0ID0gY3JlYXRlRG9tRWxlbWVudCgnaW5wdXQnLCB7XG4gICAgaWQ6ICd0ZXh0RmllbGQnLCBuYW1lOiAncycsIHR5cGU6ICd0ZXh0JywgcGxhY2Vob2xkZXI6ICdUeXBlIHlvdXIgcmVxdWVzdCcsXG4gIH0pO1xuICBjb25zdCBpbnB1dFN1Ym1pdCA9IGNyZWF0ZURvbUVsZW1lbnQoJ2J1dHRvbicsIHsgdHlwZTogJ3N1Ym1pdCcsIGlkOiAnYnV0dG9uJyB9KTtcblxuICBmb3JtLmFwcGVuZENoaWxkKGlucHV0VGV4dCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXRTdWJtaXQpO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gIGhlYWRlci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICByZXR1cm4gaGVhZGVyO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmltcG9ydCBnZXREb21FbGVtZW50IGZyb20gJy4vaGVscEZ1bmN0aW9ucy9nZXREb21FbGVtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0SW5wdXRUZXh0KCkge1xuICBjb25zdCB0ZXh0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dEZpZWxkJyk7XG4gIGNvbnN0IG1haW5FbGVtZW50ID0gZ2V0RG9tRWxlbWVudCgnLm1haW4nKTtcbiAgaWYgKHRleHRGaWVsZCA9PT0gJycgJiYgbWFpbkVsZW1lbnQpIHtcbiAgICByZXR1cm4gbWFpbkVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlcXVlc3QnKTtcbiAgfVxuICByZXR1cm4gdGV4dEZpZWxkLnZhbHVlO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UmVxdWVzdFN0cmluZyhwYXJhbVJlcSkge1xuICBsZXQgcmVxU3RyaW5nID0gJyc7XG4gIGNvbnN0IHByb3BPZk9iaiA9IE9iamVjdC5rZXlzKHBhcmFtUmVxLCBbXSk7XG4gIHByb3BPZk9iai5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgIGlmIChyZXFTdHJpbmcgPT09ICcnKSB7XG4gICAgICByZXFTdHJpbmcgPSBgJHt2YWx1ZX09JHtwYXJhbVJlcVt2YWx1ZV19YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxU3RyaW5nICs9IGAmJHt2YWx1ZX09JHtwYXJhbVJlcVt2YWx1ZV19YDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVxU3RyaW5nO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmltcG9ydCBnZXRJbnB1dFRleHQgZnJvbSAnLi9nZXRJbnB1dFRleHQnO1xuaW1wb3J0IGdldFJlcXVlc3RTdHJpbmcgZnJvbSAnLi9nZXRSZXF1ZXN0U3RyaW5nJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgbGV0IHVybCA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS95b3V0dWJlL3YzL3NlYXJjaD8nO1xuICBjb25zdCBhcGlLZXkgPSAna2V5PUFJemFTeUJLYUd0MHZaSGU1amt3NDBnUGFncXF6c2RpUVd0UTdXNCc7XG4gIGNvbnN0IHRleHRJbnB1dCA9IGdldElucHV0VGV4dCgpO1xuICBjb25zdCBvYmpQYXJhbVNlYXJjaGluZyA9IHtcbiAgICBtYXhSZXN1bHRzOiAxNSxcbiAgICBwYXJ0OiAnc25pcHBldCcsXG4gICAgcTogdGV4dElucHV0LFxuICAgIGZpZWxkczogJ2l0ZW1zKGlkKScsXG4gIH07XG4gIGxldCB3b3JkUXVlcnkgPSBnZXRSZXF1ZXN0U3RyaW5nKG9ialBhcmFtU2VhcmNoaW5nKTtcbiAgbGV0IGVuZHBvaW50ID0gYCR7dXJsfSR7d29yZFF1ZXJ5fSYke2FwaUtleX1gO1xuXG4gIC8vIEdldCBqc29uIGZpbGUgd2l0aCBsaXN0IG9mIHZpZGVvc1xuICBjb25zdCByZXF1ZXN0VVJMID0gYXdhaXQgZmV0Y2goZW5kcG9pbnQpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSEnKTtcbiAgICB9KVxuICAvLyBUYWtlIGluZm9ybWF0aW9uIGFib3V0IHZpZGVvIGJ5IGlkXG4gICAgLnRoZW4oKGpzb25SZXNwb25zZSkgPT4ge1xuICAgICAgdXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvdmlkZW9zPyc7XG4gICAgICBjb25zdCBvYmpQYXJhbVZpZGVvID0ge1xuICAgICAgICBwYXJ0OiAnc25pcHBldCxzdGF0aXN0aWNzJyxcbiAgICAgICAgZmllbGRzOiAnaXRlbXMoaWQsc25pcHBldCxzdGF0aXN0aWNzKScsXG4gICAgICB9O1xuICAgICAgICAvLyBHZXQgYXJyYXkgb2YgdXJsXG4gICAgICBjb25zdCBhcnJheU9mUmVxdWVzdHMgPSBqc29uUmVzcG9uc2UuaXRlbXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICBvYmpQYXJhbVZpZGVvLmlkID0gdmFsdWUuaWQudmlkZW9JZDtcbiAgICAgICAgd29yZFF1ZXJ5ID0gZ2V0UmVxdWVzdFN0cmluZyhvYmpQYXJhbVZpZGVvKTtcbiAgICAgICAgZW5kcG9pbnQgPSBgJHt1cmx9JHt3b3JkUXVlcnl9JiR7YXBpS2V5fWA7XG4gICAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFycmF5T2ZSZXF1ZXN0cztcbiAgICB9KVxuICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpO1xuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChyZXF1ZXN0VVJMLm1hcChpdGVtID0+IGZldGNoKGl0ZW0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSEnKTtcbiAgICB9KSkpO1xuICByZXR1cm4gZGF0YTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5pbXBvcnQgY3JlYXRlRG9tRWxlbWVudCBmcm9tICcuL2hlbHBGdW5jdGlvbnMvY3JlYXRlRG9tRWxlbWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChvYmplY3RWaWRlbykge1xuICBjb25zdCB1cmwgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/JztcbiAgLy8gQ3JlYXRlIGNvbnRhaW5lcnMgZm9yIGRhdGFcbiAgY29uc3QgZWxlbWVudHNJcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2NvbXBvbmVudCcpO1xuICBsZXQgZWxDb250YWluZXIgPSBudWxsO1xuICBpZiAoZWxlbWVudHNJcy5sZW5ndGggIT09IDApIHtcbiAgICBjb25zdCBsYXN0RWxlbWVudEluZGV4ID0gZWxlbWVudHNJcy5sZW5ndGg7XG4gICAgZWxDb250YWluZXIgPSBjcmVhdGVEb21FbGVtZW50KCdkaXYnLCB7IGNsYXNzOiBgY29tcG9uZW50IGNvbXBvbmVudC0ke2xhc3RFbGVtZW50SW5kZXggKyAxfWAgfSk7XG4gIH0gZWxzZSB7XG4gICAgZWxDb250YWluZXIgPSBjcmVhdGVEb21FbGVtZW50KCdkaXYnLCB7IGNsYXNzOiAnY29tcG9uZW50IGNvbXBvbmVudC0xJyB9KTtcbiAgfVxuICBjb25zdCBlbERpdlNjcmVlbnNob3RUaXRsZSA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6ICdzY3JlZW5zaG90LXRpdGxlJyB9KTtcbiAgY29uc3QgZWxEaXZJbmZvcm1hdGlvbiA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6ICdpbmZvcm1hdGlvbicgfSk7XG4gIC8vIEltYWdlXG4gIGNvbnN0IGVsSW1nID0gY3JlYXRlRG9tRWxlbWVudCgnaW1nJyxcbiAgICB7XG4gICAgICBzcmM6IG9iamVjdFZpZGVvLnNuaXBwZXQudGh1bWJuYWlscy5tZWRpdW0udXJsLFxuICAgICAgaGVpZ2h0OiBvYmplY3RWaWRlby5zbmlwcGV0LnRodW1ibmFpbHMubWVkaXVtLmhlaWdodCxcbiAgICAgIHdpZHRoOiBvYmplY3RWaWRlby5zbmlwcGV0LnRodW1ibmFpbHMubWVkaXVtLndpZHRoLFxuICAgIH0pO1xuICAvLyBBZGQgaW1nIHRvIDxmaWd1cmU+IGFuZCBhZGQgYWxsIHRvIGNvbnRhaW5lclxuICBlbERpdlNjcmVlbnNob3RUaXRsZS5hcHBlbmRDaGlsZChlbEltZyk7XG4gIC8vIGgxXG4gIGNvbnN0IGVsSDEgPSBjcmVhdGVEb21FbGVtZW50KCdoMScpO1xuICAvLyBDcmVhdGUgbGlua1xuICBjb25zdCBlbEEgPSBjcmVhdGVEb21FbGVtZW50KCdhJywgeyBocmVmOiBgJHt1cmx9dj0ke29iamVjdFZpZGVvLmlkfWAsIHRhcmdldDogJ19ibGFuaycgfSk7XG4gIC8vIEFkZCB0aXRsZSB0byBoMVxuICBlbEgxLnRleHRDb250ZW50ID0gb2JqZWN0VmlkZW8uc25pcHBldC5sb2NhbGl6ZWQudGl0bGU7XG4gIC8vIGFkZCBoMSB0byBsaW5rXG4gIGVsQS5hcHBlbmRDaGlsZChlbEgxKTtcbiAgLy8gQWRkIGxpbmsgdG8gY29udGFpbmVyXG4gIGVsRGl2U2NyZWVuc2hvdFRpdGxlLmFwcGVuZENoaWxkKGVsQSk7XG4gIC8vIFRyYW5zZm9ybSBwdWJsaXNoZWQgZGF0ZSB0byBzdHJpbmdcbiAgY29uc3QgcHVibGlzaGVkQXQgPSBuZXcgRGF0ZShvYmplY3RWaWRlby5zbmlwcGV0LnB1Ymxpc2hlZEF0KS50b0RhdGVTdHJpbmcoKTtcbiAgY29uc3QgdmlkZW9EZXNjcmlwdGlvbiA9IG9iamVjdFZpZGVvLnNuaXBwZXQuZGVzY3JpcHRpb24uc3BsaXQoJyAnKTtcbiAgY29uc3Qgc2hvcnREZXNwcmlwdGlvbiA9IGAke3ZpZGVvRGVzY3JpcHRpb24uc2xpY2UoMCwgMTApLmpvaW4oJyAnKX0uLi5gO1xuICAvLyBEZWZpbmUgb2JqXG4gIGNvbnN0IG9ialAgPSB7XG4gICAgYXV0aG9yOiBvYmplY3RWaWRlby5zbmlwcGV0LmNoYW5uZWxUaXRsZSxcbiAgICAncHVibGljYXRpb24tZGF0ZSc6IHB1Ymxpc2hlZEF0LFxuICAgICd2aWV3LWNvdW50Jzogb2JqZWN0VmlkZW8uc3RhdGlzdGljcy52aWV3Q291bnQsXG4gICAgZGVzY3JpcHRpb246IHNob3J0RGVzcHJpcHRpb24sXG4gIH07XG4gIC8vIENyZWF0ZSBmb3VyIHRhZyA8cD4gYW5kIHB1c2ggdGhlaXIgaW50byBjb250YWluZXJcbiAgY29uc3QgYXdlc29tZUNsYXNzQXJyYXkgPSBbJ2ZhIGZhcyBmYS11c2VyJywgJ2ZhIGZhcyBmYS1jYWxlbmRhci1hbHQnLCAnZmEgZmFzIGZhLWV5ZSddO1xuICBjb25zdCBhcnJheUtleXMgPSBPYmplY3Qua2V5cyhvYmpQKTtcbiAgYXJyYXlLZXlzLmZvckVhY2goKGVsZW1lbnRBcnJheSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBkb21FbERpdiA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6IGVsZW1lbnRBcnJheSB9KTtcbiAgICBjb25zdCBkb21FbEkgPSBjcmVhdGVEb21FbGVtZW50KCdpJywgeyBjbGFzczogYXdlc29tZUNsYXNzQXJyYXlbaW5kZXhdIH0pO1xuICAgIGNvbnN0IGRvbUVsUCA9IGNyZWF0ZURvbUVsZW1lbnQoJ3AnKTtcbiAgICBkb21FbFAudGV4dENvbnRlbnQgPSBvYmpQW2VsZW1lbnRBcnJheV07XG4gICAgZG9tRWxEaXYuYXBwZW5kQ2hpbGQoZG9tRWxJKTtcbiAgICBkb21FbERpdi5hcHBlbmRDaGlsZChkb21FbFApO1xuXG4gICAgLyogZG9tRWwuYXBwZW5kQ2hpbGQoYXdlc29tZUVsZW1lbnQpO1xuICAgIGRvbUVsLnRleHRDb250ZW50ID0gb2JqUFtlbGVtZW50QXJyYXldOyAqL1xuICAgIGVsRGl2SW5mb3JtYXRpb24uYXBwZW5kQ2hpbGQoZG9tRWxEaXYpO1xuICB9KTtcbiAgZWxDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxEaXZTY3JlZW5zaG90VGl0bGUpO1xuICBlbENvbnRhaW5lci5hcHBlbmRDaGlsZChlbERpdkluZm9ybWF0aW9uKTtcbiAgcmV0dXJuIGVsQ29udGFpbmVyO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L25vLWN5Y2xlICovXG5pbXBvcnQgZ2V0RGF0YSBmcm9tICcuL2dldENvbXBvbmVudERhdGEnO1xuaW1wb3J0IGNyZWF0ZUNhcmQgZnJvbSAnLi90ZW1wbGF0ZU9mQ29tcG9uZW50JztcbmltcG9ydCB7IGNoZWNrV2lkdGgsIGNyZWF0ZVBhZ2VzIH0gZnJvbSAnLi9wYWdlJztcblxuLy8gR2V0IGRhdGEgZnJvbSBzZXJ2ZXIgYW5kIGNyZWF0ZSBlbGVtZW50cyBvZiBET01cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgZ2V0RGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcbiAgICBkYXRhLmZvckVhY2goKG9iamVjdFZpZGVvKSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gY3JlYXRlQ2FyZChvYmplY3RWaWRlby5pdGVtc1swXSk7XG4gICAgICBjb25zdCBhbW91bnQgPSBjaGVja1dpZHRoKCk7XG4gICAgICBjcmVhdGVQYWdlcyhjYXJkLCBhbW91bnQpO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuaW1wb3J0IGFkZENvbXBvbmVudHMgZnJvbSAnLi9hZGRDb21wb25lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcbiAgY29uc3RydWN0b3IocGFnZUluZGV4KSB7XG4gICAgdGhpcy5wYWdlSW5kZXggPSBwYWdlSW5kZXg7XG4gIH1cblxuICBhZGRDb3VudGVyQ3VycmVudFRpcHMoYXJnKSB7XG4gICAgY29uc3QgaW5uZXJBcnJheSA9IGFyZztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG90YWwtYW1vdW50JykudGV4dENvbnRlbnQgPSBgJHt0aGlzLnBhZ2VJbmRleH0gLyAke2lubmVyQXJyYXkubGVuZ3RofWA7XG4gIH1cblxuICBzaG93RGl2cyhuKSB7XG4gICAgY29uc3QgcGFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnZScpO1xuICAgIGNvbnN0IGFtb3V0bk9mUGFnZXMgPSBwYWdlcy5sZW5ndGg7XG4gICAgaWYgKG4gPT09IGFtb3V0bk9mUGFnZXMgLSAxKSB7XG4gICAgICBhZGRDb21wb25lbnRzKGFtb3V0bk9mUGFnZXMpO1xuICAgIH1cbiAgICBpZiAobiA8IDEpIHsgdGhpcy5wYWdlSW5kZXggPSAxOyB9XG4gICAgcGFnZXMuZm9yRWFjaCgocGFnZSkgPT4geyBwYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IH0pO1xuICAgIHBhZ2VzW3RoaXMucGFnZUluZGV4IC0gMV0uc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmFkZENvdW50ZXJDdXJyZW50VGlwcyhwYWdlcyk7XG4gIH1cblxuICBzdGFydFNsaWRlKCkge1xuICAgIHRoaXMuc2hvd0RpdnModGhpcy5wYWdlSW5kZXgpO1xuICB9XG5cbiAgcGx1c0RpdnMobikge1xuICAgIHRoaXMuc2hvd0RpdnModGhpcy5wYWdlSW5kZXggKz0gbik7XG4gIH1cbn1cbiIsImltcG9ydCBnZXREb21FbGVtZW50IGZyb20gJy4vaGVscEZ1bmN0aW9ucy9nZXREb21FbGVtZW50JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNsaWRlcikge1xuICBsZXQgdG91Y2hzdGFydFggPSAwO1xuICBsZXQgdG91Y2hlbmRYID0gMDtcbiAgICAgIFxuICBmdW5jdGlvbiBoYW5kbGVNb3ZpbmcoKSB7XG4gICAgaWYgKHRvdWNoZW5kWCA8IHRvdWNoc3RhcnRYKSB7XG4gICAgZ2V0RG9tRWxlbWVudCgnLnBhZ2UnKS5zdHlsZVsnYW5pbWF0aW9uLW5hbWUnXSA9ICdyaWdodC1sZWZ0JztcbiAgICBzbGlkZXIucGx1c0RpdnMoLTEpO1xuICAgIH1cbiAgICBpZiAodG91Y2hlbmRYID4gdG91Y2hzdGFydFgpIHtcbiAgICAgIHNsaWRlci5wbHVzRGl2cygrMSk7XG4gICAgfVxuICB9XG4gIC8vIFN0aWNrIGxpc3RlbmVycyBmb3Igc3dpcGUgdG8gcGFnZVxuICBjb25zdCBtYWluRWxlbWVudCA9IGdldERvbUVsZW1lbnQoJy5tYWluJyk7XG4gIG1haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRvdWNoc3RhcnRYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgfSk7XG4gIG1haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PiB7XG4gICAgdG91Y2hlbmRYID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICBoYW5kbGVNb3ZpbmcoKTtcbiAgfSk7XG59IiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVG91Y2hEZXZpY2UoKSB7XG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ1RvdWNoRXZlbnQnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuIiwiaW1wb3J0IGdldERvbUVsZW1lbnQgZnJvbSAnLi9oZWxwRnVuY3Rpb25zL2dldERvbUVsZW1lbnQnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHNsaWRlcikge1xuICBsZXQgdG91Y2hzdGFydFggPSAwO1xuICBsZXQgdG91Y2hlbmRYID0gMDtcbiAgXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdmluZygpIHtcbiAgICBpZiAodG91Y2hlbmRYIDwgdG91Y2hzdGFydFgpIHtcbiAgICAgIGdldERvbUVsZW1lbnQoJy5wYWdlJykuc3R5bGVbJ2FuaW1hdGlvbi1uYW1lJ10gPSAncmlnaHQtbGVmdCc7XG4gICAgICBzbGlkZXIucGx1c0RpdnMoLTEpO1xuICAgIH1cbiAgICBpZiAodG91Y2hlbmRYID4gdG91Y2hzdGFydFgpIHtcbiAgICAgIHNsaWRlci5wbHVzRGl2cygrMSk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBTdGljayBsaXN0ZW5lcnMgZm9yIHN3aXBlIHRvIHBhZ2VcbiAgY29uc3QgbWFpbkVsZW1lbnQgPSBnZXREb21FbGVtZW50KCcubWFpbicpO1xuICBtYWluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRvdWNoc3RhcnRYID0gZXZlbnQuY2xpZW50WDtcbiAgfSk7XG4gIG1haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZXZlbnQpID0+IHtcbiAgICB0b3VjaGVuZFggPSBldmVudC5jbGllbnRYO1xuICAgIGhhbmRsZU1vdmluZygpO1xuICB9KTtcbn1cbiAgIiwiaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlcic7XG5pbXBvcnQgZ2V0RG9tRWxlbWVudCBmcm9tICcuL2hlbHBGdW5jdGlvbnMvZ2V0RG9tRWxlbWVudCc7XG5pbXBvcnQgbW9iaWxlU3dpcGUgZnJvbSAnLi9tb2JpbGVTd2lwZSc7XG5pbXBvcnQgaXNUb3VjaERldmljZSBmcm9tICcuL2hlbHBGdW5jdGlvbnMvaXNUb3VjaERldmljZSc7XG5pbXBvcnQgZGVza3RvcFN3aXBlIGZyb20gJy4vZGVza3RvcFN3aXBlJztcblxuY29uc3Qgc2xpZGVyID0gbmV3IFNsaWRlcigxKTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICBpZiAoaXNUb3VjaERldmljZSkge1xuICAgIG1vYmlsZVN3aXBlKHNsaWRlcik7XG4gIH1cbiAgZGVza3RvcFN3aXBlKHNsaWRlcik7XG4gIG1vYmlsZVN3aXBlKHNsaWRlcik7XG59IiwiaW1wb3J0IGdldERhdGEgZnJvbSAnLi9nZXRDb21wb25lbnREYXRhJztcbmltcG9ydCBjcmVhdGVDYXJkIGZyb20gJy4vdGVtcGxhdGVPZkNvbXBvbmVudCc7XG5pbXBvcnQgeyBjaGVja1dpZHRoLCBjcmVhdGVQYWdlcyB9IGZyb20gJy4vcGFnZSc7XG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vc2xpZGVyJztcbmltcG9ydCBhZGRTd2lwZSBmcm9tICcuL2FkZFN3aXBlJztcblxuLy8gR2V0IGRhdGEgZnJvbSBzZXJ2ZXIgYW5kIGNyZWF0ZSBlbGVtZW50cyBvZiBET01cbmNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoMSk7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnRzKCkge1xuICBnZXREYXRhKCkudGhlbigoZGF0YSkgPT4ge1xuICAgIGRhdGEuZm9yRWFjaCgob2JqZWN0VmlkZW8pID0+IHtcbiAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKG9iamVjdFZpZGVvLml0ZW1zWzBdKTtcbiAgICAgIGNvbnN0IGFtb3VudCA9IGNoZWNrV2lkdGgoKTtcbiAgICAgIGNyZWF0ZVBhZ2VzKGNhcmQsIGFtb3VudCk7XG4gICAgfSk7XG4gICAgc2xpZGVyLnN0YXJ0U2xpZGUoKTtcbiAgICBhZGRTd2lwZSgpO1xuICB9KTtcbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG5pbXBvcnQgY3JlYXRlRWxlbWVudCBmcm9tICcuL2hlbHBGdW5jdGlvbnMvY3JlYXRlRG9tRWxlbWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU1haW5GaWVsZCgpIHtcbiAgY29uc3QgbWFpbiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6ICdtYWluJyB9KTtcbiAgY29uc3QgYW1vdW50T2ZQYWdlcyA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3M6ICd0b3RhbC1hbW91bnQnIH0pO1xuICBtYWluLmFwcGVuZENoaWxkKGFtb3VudE9mUGFnZXMpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1haW4pO1xufVxuIiwiaW1wb3J0IGNyZWF0ZUNvbXBvbmVudHMgZnJvbSAnLi9jcmVhdGVDb21wb25lbnRzJztcbmltcG9ydCBjcmVhdGVNYWluRmllbGQgZnJvbSAnLi9jcmVhdGVNYWluRmllbGQnO1xuaW1wb3J0IGdldERvbUVsZW1lbnQgZnJvbSAnLi9oZWxwRnVuY3Rpb25zL2dldERvbUVsZW1lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY29uc3QgdGV4dEZpZWxkID0gZ2V0RG9tRWxlbWVudCgnI3RleHRGaWVsZCcpO1xuICBpZiAoIWdldERvbUVsZW1lbnQoJy5tYWluJykpIHtcbiAgICBjcmVhdGVNYWluRmllbGQoKTtcbiAgICBnZXREb21FbGVtZW50KCcubWFpbicpLnNldEF0dHJpYnV0ZSgnZGF0YS1yZXF1ZXN0JywgdGV4dEZpZWxkLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBnZXREb21FbGVtZW50KCcubWFpbicpLmlubmVySFRNTCA9ICcnO1xuICB9XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNyZWF0ZUNvbXBvbmVudHMoKTtcbiAgdGV4dEZpZWxkLnZhbHVlID0gJyc7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuaW1wb3J0IHsgY2hhbmdlRWxlbWVudHNPblBhZ2UgfSBmcm9tICcuL3BhZ2UnO1xuaW1wb3J0IGNyZWF0ZVNlYXJjaEZpZWxkIGZyb20gJy4vY3JlYXRlX3NlYXJjaF9maWVsZCc7XG5pbXBvcnQgY2xpY2tTdWJtaXQgZnJvbSAnLi9jbGlja1N1Ym1pdCc7XG5cbi8vIENyZWF0ZSBzZWFyY2ggZmllbGRcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY3JlYXRlU2VhcmNoRmllbGQoKSk7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnV0dG9uJylcbiAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tTdWJtaXQpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNoYW5nZUVsZW1lbnRzT25QYWdlKTtcbiJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")}]);